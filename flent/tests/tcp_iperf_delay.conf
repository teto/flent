# -*- mode: python; coding: utf-8 -*-

DESCRIPTION="iperf completion delay 6MB"
DEFAULTS={'PLOT': "all_scaled",
          'HOSTS': []}

IPERF_V6=""
if IP_VERSION == 6:
    IPERF_V6="-V"

TOTAL_LENGTH=LENGTH

DATA_SETS = o([
    ('TCP netperf',
         {
		'test': 'TCP_STREAM',
		'host': HOST,
		  'length': 10,
			'bytes': 100000000,
		  'duplicates': 5,
			# 'units': 'Mbits/s',
          'runner': 'netperf_demo2',})
    ])

PLOTS['iperf_delay']    = {'description': 'Netperf completion time',
                             'type': 'cdf_combine',
                             # 'type': 'meta',
							'group_by': 'groups_concat',
                             'series': [
								# when duplicates is used the name is changed to e.g.:
								# Started NetperfDemoRunner idx 4 ('TCP netperf::5')
								# thus we need to use the glob

                                 {'data': glob('TCP netperf*'),
									'label': 'completion delay (ms)',
                  					'combine_mode': 'meta:ELAPSED_TIME'
								 }]
							}


PLOTS['iperf_delay_cdf']    = {'description': 'Netperf completion time',
                             'type': 'cdf_combine',
                             # 'type': 'meta',
							'group_by': 'groups_concat',
                             'series': [
								# when duplicates is used the name is changed to e.g.:
								# Started NetperfDemoRunner idx 4 ('TCP netperf::5')
								# thus we need to use the glob

                                 {'data': glob('TCP netperf*'),
									'label': 'completion delay (ms)',
                  					'combine_mode': 'meta:ELAPSED_TIME'
								 }]
							}
